<section class="w-50 mx-auto my-5">
  <h1 class="h2">Login Now:</h1>
  <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">


    <div>
      <label for="email">email</label>
      <input [ngClass]="{
        'is-valid':!loginForm.get('email')?.errors &&loginForm.get('email')?.touched,
        'is-invalid':loginForm.get('email')?.errors&&(loginForm.get('email')?.touched||loginForm.get('email')?.dirty)
      }"id="email" type="email" class="form-control" formControlName="email">
      @if(loginForm.get('email')?.errors &&(loginForm.get('email')?.touched||loginForm.get('email')?.dirty))
      {
        <div class="text-danger">
          @if(loginForm.get('email')?.getError('required'))
          {
            <p class="m-0 text-danger">Email Is Required</p>
          }
          @else if (loginForm.get('email')?.getError('email')) {
            <p class="m-0 text-danger">Enter Valid Email </p>
          }
        </div>
      }
    </div>

    <div>
      <label for="password">password</label>
      <input  [ngClass]="{
        'is-valid':!loginForm.get('password')?.errors &&loginForm.get('password')?.touched,
        'is-invalid':loginForm.get('password')?.errors&&(loginForm.get('password')?.touched||loginForm.get('password')?.dirty)
      }" id="password" type="password" class="form-control" formControlName="password">
      @if(loginForm.get('password')?.errors &&(loginForm.get('password')?.touched||loginForm.get('password')?.dirty))
      {
        <div class="text-danger">
          @if(loginForm.get('password')?.getError('required'))
          {
            <p class="m-0">Password Is Required</p>
          }
          @else if (loginForm.get('password')?.getError('pattern')) {
            <p class="m-0">must be at least 6 chars</p>
          }
        </div>
      }
    </div>
    <div class="d-flex justify-content-end align-items-center gap-3">
      <a class="my-2 mx-3 text-secondary btn_nav cr" routerLink="/forgot">Forget Password</a>
      <button   type="submit" class="btn-main my-2">Login
        <span>
          @if(isLoading)
          {
            <i class="fas fa-spin fa-spinner"></i>
          }

        </span>
      </button>
    </div>

    @if(msgError)
    {
      <p class="alert alert-danger w-50 m-0">{{msgError}}</p>
    }
    @if(msgSuccess)
    {
      <p class="">Successfully Logged In </p>
    }

  </form>
</section>
